---
name: commit
description: pyokotifyプロジェクトのGitコミット規約。コミット作成、ファイルステージング、Git操作時に使用。
---

# Git コミット規約

## ルール

1. **日本語で書く**
2. **`git add .` は使わない** - 必ずファイルを個別に指定
3. **`git log` を確認** - 既存のスタイルに合わせる
4. **1コミット = 1論理単位** - 「〜と〜」で説明が必要なら分割
5. **依存される側から先にコミット**
6. **リファクタ/機能追加/テストは分ける**
7. **スコープ外の変更は確認する** - 無関係なファイルはユーザーに確認

## 手順

1. @.gitmessage を参照
2. 直近のコミットログを確認 `git log --oneline -10`
3. 変更ファイルを確認 `git status`
4. 差分を確認 `git diff <file>`
5. ステージング `git add <file>` (ルールに従う)
6. コミット

## コミットメッセージフォーマット

```
<emoji> タイトル

詳細説明
- 変更点1
- 変更点2
```

## Gitmoji

| Emoji | Type | 説明 |
|-------|------|------|
| ✨ | feat | 新機能 |
| 🐛 | fix | バグ修正 |
| 📝 | docs | ドキュメント |
| 🎨 | style | フォーマット（コードの意味に影響なし） |
| ♻️ | refactor | リファクタリング |
| ✅ | test | テスト追加・修正 |
| 🔧 | chore | 設定・ビルド・依存関係 |
| ⚡️ | perf | パフォーマンス改善 |
| 🔥 | remove | コード・ファイル削除 |
| 🚚 | move | ファイル移動・リネーム |
| 💚 | ci | CI修正 |
| 🔒 | security | セキュリティ修正 |

## 例

```
✨ ランダム方向モードの追加

- 下・左・右からランダムに出現
- --random-direction オプション追加
- 画像の自動回転対応
```

```
🐛 吹き出しのしっぽがずれる問題を修正

しっぽの根元を12px内側にオフセット
```

```
🔥 snooze機能を削除

- snoozeCount/snoozeInterval設定を削除
- --snooze/--snooze-interval引数を削除
- scheduleSnooze()を削除
```

## アンチパターン

| NG | 理由 |
|----|------|
| `git add .` | 意図しないファイルが含まれる |
| `fix` だけのメッセージ | 何を直したかわからない |
| `WIP` | 不完全な作業 |
| 1つの巨大コミット | レビュー/リバートが困難 |
